<template>
    <lightning-quick-action-panel header="Send Email">
       
        <div class="slds-col_padded" style="display: flex">
            <lightning-combobox class="slds-size_1-of-2" variant="label-stacked" label="Email Template Folder"
                value={value1} options={options} required="true" onchange={handleChange}>
            </lightning-combobox>
            <lightning-combobox class="slds-size_1-of-2" variant="label-stacked" value={value2}
                options={templateOptions} label="Email Template" required="true" onchange={handleTemplateChange}>
            </lightning-combobox>
        </div>

        <div class="slds-col_padded" style="display: flex">
          
            <lightning-input name="toAddress" type="email" label="To" placeholder="abc@gmail.com" value={toEmailAddress}
            class="slds-size_1-of-2" onchange={handleChangeSend} required="true"></lightning-input>
            &nbsp; &nbsp; &nbsp; &nbsp; 
            <lightning-input name="subject" label="Subject" value={templateSubject} onchange={handleChangeSend}
            class="slds-size_1-of-2"  required="true"></lightning-input>

        </div>
        <div class="slds-col_padded" style="display: flex">
            <lightning-input type="email" label="From" value={fromEmail} placeholder="abc@gmail.com" name="fromAddress"
            class="slds-size_1-of-2" required="true"></lightning-input>
                &nbsp; &nbsp;
            <lightning-input-rich-text value={richText} name="body" height="200px" weidth="200px" onchange={handleChangeSend}>
            </lightning-input-rich-text>

        </div>
  <div class="slds-var-p-around_medium">
            <template for:each={files} for:item="file" for:index="index">
                    <lightning-pill key={file.contentVersionId} label={file.name} onremove={handleRemove}
                        data-id={file.contentVersionId} data-index={index} >
                        <lightning-icon icon-name="doctype:attachment" size="xx-small" alternative-text="attach">
                        </lightning-icon>
                    </lightning-pill>
            </template>
        </div>
        <div class="slds-popover__body" id="dialog-body-id-108">
            <lightning-file-upload label="Attach files" name="fileUploader" accept={acceptedFormats}
                record-id={myRecordId} onuploadfinished={handleUploadFinished} onclick={toggleFileUpload} multiple>
            </lightning-file-upload>
        </div>
    
        <div slot="footer">

            &nbsp; &nbsp;
            <lightning-button variant="destructive" label="Cancel" onclick={closeAction}></lightning-button>
            <lightning-button variant="brand" label="Send Email" onclick={onSendEmail} class="slds-m-left_x-small">
            </lightning-button>
        </div>

    </lightning-quick-action-panel>

</template>
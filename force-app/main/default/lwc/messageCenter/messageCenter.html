<template>
    <lightning-card>
        <div class="slds-feed">
            <template if:true={chatterPosts}>
                <template for:each={chatterPosts} for:item="post">
                    <div key={post.post.Id}>
                        <ul class="slds-feed__list">
                            <li class="slds-feed__item">
                                <article class="slds-post">
                                    <header class="slds-post__header slds-media">
                                        <div class="slds-media__figure">
                                            <a href="#" class="slds-avatar slds-avatar_circle slds-avatar_medium">
                                                <img alt="icon Missing" src={icon} />
                                            </a>
                                        </div>
                                        <div class="slds-media__body">
                                            <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">
                                                <p>
                                                    <a href="#"
                                                        title={post.post.Parent.Name}>{post.post.Parent.Name}</a> â€”
                                                    <a href="#" title=" Community Trust team (JS) (Partner)">
                                                        {post.post.CreatedBy.Name}</a>
                                                </p>
                                            </div>
                                            <p class="slds-text-body_small">
                                                <a href="#" title="Click for single-item view of this post"
                                                    class="slds-text-link_reset">Edited {post.totalHours}</a>
                                            </p>
                                        </div>
                                    </header>
                                    <div class="slds-post__content slds-text-longform">
                                        <lightning-formatted-rich-text value={post.post.Body}></lightning-formatted-rich-text>
                                    </div>
                                    <footer class="slds-post__footer">
                                        <ul class="slds-post__footer-actions-list slds-list_horizontal">
                                          <li class="slds-col slds-item slds-m-right_medium">
                                            <lightning-button-icon-stateful
                                              icon-label="Like"
                                              icon-name="utility:like"
                                              size="x-small"
                                              selected={likeStateSize01}
                                              onclick={handleLikeButtonSizeClick}
                                              alternative-text="Like"
                                              data-button-number="01"
                                            ></lightning-button-icon-stateful>
                                          </li>
                                          <li class="slds-col slds-item slds-m-right_medium">
                                            <lightning-button-icon-stateful
                                              icon-label="Like"
                                              icon-name="utility:like"
                                              size="x-small"
                                              selected={likeStateSize02}
                                              onclick={handleLikeButtonSizeClick}
                                              alternative-text="Like"
                                              data-button-number="02"
                                            ></lightning-button-icon-stateful>
                                          </li>
                                          <li class="slds-col slds-item slds-m-right_medium">
                                            <button title="Comment on this item" class="slds-button_reset slds-post__footer-action">
                                              <svg class="slds-icon slds-icon-text-default slds-icon_x-small slds-align-middle" aria-hidden="true">
                                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#share_post"></use>
                                              </svg> {post.post.CommentCount} Comment
                                            </button>
                                          </li>
                                          <li class="slds-col slds-item slds-m-right_medium">
                                            <button title="Share this item" class="slds-button_reset slds-post__footer-action">
                                              <svg class="slds-icon slds-icon-text-default slds-icon_x-small slds-align-middle" aria-hidden="true">
                                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#share"></use>
                                              </svg> View
                                            </button>
                                          </li>
                                        </ul>
                                      </footer>
                                      
                                </article>
                                <div class="slds-feed__item-comments">
                                    <div class="slds-p-horizontal_medium slds-p-vertical_x-small slds-grid">
                                        <button class="slds-button_reset slds-text-link">More comments</button>
                                    </div>
                                    <ul>
                                        <li>
                                            <article class="slds-comment slds-media slds-hint-parent">
                                                <!-- <div class="slds-media__figure">
                                    <a href="#" class="slds-avatar slds-avatar_circle slds-avatar_medium">
                                        <img alt="icon Missing" src={icon}/>
                                    </a>
                                </div> -->
                                                <div class="slds-media__body">
                                                    <!-- <header class="slds-media slds-media_center">
                                        <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">
                                            <p class="slds-truncate" title="Jenna Davis">
                                                <a href="#">Jenna Davis</a>
                                            </p>
                                            <button
                                                class="slds-button slds-button_icon slds-button_icon-border slds-button_icon-x-small"
                                                aria-haspopup="true" title="More Options">
                                                <svg class="slds-button__icon" aria-hidden="true">
                                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down">
                                                    </use>
                                                </svg>
                                                <span class="slds-assistive-text">More Options</span>
                                            </button>
                                        </div>
                                    </header> -->
                                                    <!-- <div class="slds-comment__content slds-text-longform">  -->
                                                    <template for:each={post.comments} for:item="comment">
                                                        <div key={comment.Id}>
                                                            <lightning-card>
                                                                <!-- <header class="slds-media slds-media_center">
                                                                <div class="slds-col_padded" style="display: flex">
                                                                    <div class="slds-media__figure">
                                                                        <a href="#"
                                                                            class="slds-avatar slds-avatar_circle slds-avatar_small">
                                                                            <img alt="icon Missing" src={icon} />
                                                                        </a>
                                                                    </div>
                                                                   
                                                                        <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">
                                                                            <p class="slds-truncate"
                                                                                title={comment.CreatedBy.Name}>
                                                                                <a href="#">{comment.CreatedBy.Name}</a>
                                                                            </p>
                                                                        </div>
                                                                </div>
                                                                <p class="slds-text-body_small">
                                                                    <a href="#" title="Click for single-item view of this post"
                                                                        class="slds-text-link_reset">Edited </a>
                                                                </p>
                                                            </header> -->
                                                            <header class="slds-post__header slds-media">
                                                                <div class="slds-media__figure">
                                                                    <a href="#" class="slds-avatar slds-avatar_circle slds-avatar_small">
                                                                        <img alt="icon Missing" src={icon} />
                                                                    </a>
                                                                </div>
                                                                <div class="slds-media__body">
                                                                    <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">
                                                                        <p>
                                                                            <a href="#"
                                                                                title={comment.CreatedBy.Name}>{comment.CreatedBy.Name}</a>
                                                                        </p>
                                                                    </div>
                                                                    <p class="slds-text-body_small">
                                                                        <a href="#" title="Click for single-item view of this post" class="slds-text-link_reset">
                                                                          Edited {comment.totalHourscomment}
                                                                        </a>
                                                                      </p>
                                                                </div>
                                                            </header>
                                                                <div class="slds-comment__content slds-text-longform">
                                                                    <!-- &nbsp;&nbsp;{comment.CommentBody} -->
                                                                    <lightning-formatted-rich-text value={comment.CommentBody}></lightning-formatted-rich-text>
                                                                </div>
                                                                <footer>
                                                                    <ul
                                                                        class="slds-list_horizontal slds-has-dividers_right slds-text-body_small">
                                                                        <li class="slds-item">
                                                                            <button class="slds-button_reset slds-text-color_weak"
                                                                                title="Like this item"
                                                                              aria-pressed="false">Like</button>
                                                                        </li>
                                                                        <!-- <li class="slds-item">16hr Ago</li> -->
                                                                    </ul>
                                                                </footer>
                                                            </lightning-card>
                                                            </br>
                                                        </div>

                                                    </template>
                                                    <!-- </div> -->
                                                    <!-- <footer>
                                                        <ul
                                                            class="slds-list_horizontal slds-has-dividers_right slds-text-body_small">
                                                            <li class="slds-item">
                                                                <button class="slds-button_reset slds-text-color_weak"
                                                                    title="Like this item"
                                                                    aria-pressed="false">Like</button>
                                                            </li>
                                                            <li class="slds-item">16hr Ago</li>
                                                        </ul>
                                                    </footer> -->
                                                </div>
                                            </article>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </template>
            </template>
        </div>
        <lightning-button variant="brand" label="View More" title="View More" onclick={handleViewMore}></lightning-button>
    </lightning-card>
</template>